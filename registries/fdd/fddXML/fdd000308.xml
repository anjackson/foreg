<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000308" titleName="EPUB, Electronic Publication, Version 3" shortName="EPUB_3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.digitalpreservation.gov/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.digitalpreservation.gov/formats/schemas/fdd/v1 http://www.digitalpreservation.gov/formats/schemas/fdd/v1/fdd-v1-0.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenre>text</fdd:gdfrGenre>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>encoding</fdd:category>
			<fdd:category>file-format</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrComposition>container-wrapper</fdd:gdfrComposition>
		<fdd:gdfrForm>text</fdd:gdfrForm>
		<fdd:gdfrConstraint>structured</fdd:gdfrConstraint>
		<fdd:gdfrBasis>symbolic</fdd:gdfrBasis>
		<fdd:updates>
			<fdd:date>2012-02-15</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Full</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>EPUB, Electronic Publication, Version 3</fdd:fullName>
		<fdd:keywords>
			<fdd:keyword>document formats</fdd:keyword>
			<fdd:keyword>EPUB</fdd:keyword>
		</fdd:keywords>
		<fdd:description>
			<p>EPUB is a format for electronic publications with reflowable text in marked up document structure with associated images for illustrations, all in a container format.  Reflowable text allows the text display to be optimized for the particular display device used by the reader of the EPUB-formatted book; this is in contrast to documents with pre-determined pagination.  EPUB allows publishers to control document presentation through style-sheets.  EPUB, Version 3 also provides for audio, including synchronization of text and audio, and for text-to-speech synthesis.  Video may be embedded, but readers need not support video.  Creators must provide a still image as fallback for a video clip.</p>
			<p>The EPUB_3 specification comprises an overview and four separate specification documents:</p>
			<ul>
				<li>
					<i>Open Container Format (OCF), version 3.</i>   Specifies the mandatory container for an EPUB.  OCF is based on the ZIP format.</li>
				<li>
					<i>EPUB Publications 3.0.</i>  Defines how components of an OPS publication are related, defining the natural reading order, and identifying alternate representations for content elements.  OPF also holds document metadata. Specifies options for representation of the content of an electronic publication.  Specifies &quot;preferred vocabularies&quot; for XML-based content components and &quot;core media types&quot; that include raster and vector image formats that readers must support.</li>
				<li>
					<i>EPUB Content Documents 3.0.</i>  Defines profiles of XHTML, SVG, and CSS for use as the primary content in EPUB publications.</li>
				<li>
					<i>EPUB Media Overlays 3.0.</i>  Defines a format and a processing model for synchronization of text and audio.</li>
			</ul>
			<p>EPUB is the unifying term used to denote a collection of Content Documents, a Package Document, at least one Navigation Document, and other supporting files, typically in a variety of media types, including structured text and graphics, packaged in a ZIP-based OCF container that constitute a cohesive unit for publication, as defined by the EPUB standards. The container file for an EPUB has the extension .epub; changing the extension to .zip may permit exploration of the individual files.</p>
			<p>Every EPUB Publication includes a single XML-based Package Document, which specifies all the publication&apos;s constituent content documents, through a <i>manifest</i> element, together with associated required resources, defines a reading order for linear consumption, through a <i>spine</i> element, and associates publication-level metadata and navigation information.  An EPUB Navigation Document in HTML5/XHTML is a required component of an EPUB Publication; it provides the basis for both machine-readable and human-readable navigation.  A mandatory <i>toc nav</i> element defines the primary navigation hierarchy and must be consistent with the spine.  Other <i>nav</i> elements can support navigation options familiar from printed books, such as lists of illustrations, or from electronic documents, such as marks for significant structural components.</p>
			<p>EPUB 3 was approved by IDPF as a Recommendation in October 2011.  A June 2012 resolution of ISO/IEC JTC 1/SC 34
(Document Description and Processing Languages) notes that EPUB 3 will be submitted to ISO/IEC JTC1/SC34 as a Draft Technical Specification via the JTC 1 fast-track procedure by the Korean national standards body.</p>
		</fdd:description>
		<fdd:shortDescription>A format for electronic publications with reflowable text in marked up document structure with associated images for illustrations, packaged in a ZIP-based container format (OCF).  EPUB Version 3 also provides for audio, including synchronization of text and audio, and for text-to-speech synthesis.  </fdd:shortDescription>
		<fdd:productionPhase>An EPUB file is likely to be used primarily as a final-state format, for dissemination to end-users </fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has earlier version</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000278</fdd:id>
					<fdd:shortName>EPUB_2</fdd:shortName>
					<fdd:titleName>EPUB, Electronic Publication, Version 2</fdd:titleName>
				</fdd:relatedTo>
				<fdd:comment>Last minor version of EPUB, Version 2 was 2.0.1, approved in 2010.  There are substantial changes between EPUB_2 and EPUB_3.</fdd:comment>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Subtype of</fdd:typeOfRelationship>
				<fdd:comment>OCF (Open Container Format), based on the ZIP archiving format, not yet separately described at this site.  EPUB_3 uses version 3 of OCF.</fdd:comment>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Contains</fdd:typeOfRelationship>
				<fdd:comment>A single XML-based Package Document  not yet separately described at this site. </fdd:comment>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000133</fdd:id>
					<fdd:shortName>GIF</fdd:shortName>
					<fdd:titleName>GIF Graphics Interchange Format, Version 89a</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000018</fdd:id>
					<fdd:shortName>JFIF</fdd:shortName>
					<fdd:titleName>JFIF, JPEG File Interchange Format</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000153</fdd:id>
					<fdd:shortName>PNG</fdd:shortName>
					<fdd:titleName>Portable Network Graphics
</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000020</fdd:id>
					<fdd:shortName>SVG_1_1</fdd:shortName>
					<fdd:titleName>Scalable Vector Graphics (SVG), Version 1.1</fdd:titleName>
				</fdd:relatedTo>
				<fdd:comment>EPUB_3 specifies a slightly restricted version of SVG_1_1.   In particular, animation objects are not permitted.</fdd:comment>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000012</fdd:id>
					<fdd:shortName>MP3_ENC</fdd:shortName>
					<fdd:titleName>MP3 Audio Encoding</fdd:titleName>
				</fdd:relatedTo>
				<fdd:comment>Assumed to be wrapped in the widely used de facto file format <fddLink id="fdd000105">MP3_FF</fddLink> which wraps MP3 encoding with optional ID3 metadata blocks.</fdd:comment>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000234</fdd:id>
					<fdd:shortName>MP4_FF_2_AAC</fdd:shortName>
					<fdd:titleName>MPEG-4 File Format, V.2, with Advanced Audio Encoding.</fdd:titleName>
				</fdd:relatedTo>
				<fdd:comment>Limited to Low Complexity audio compression.  See <fddLink id="fdd000233">AAC_MP4_LC</fddLink>, AAC (MPEG-4) Low Complexity Object.</fdd:comment>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:experience>No current use at LC.</fdd:experience>
		<fdd:preference>As an XML-based format using publicly documented schemas that represent the logical structure of a publication, EPUB_3 satisfies most of the desired characteristics for formats for textual works, if the content files are not encrypted, if the file is not subject to technological protection that inhibits long-term preservation and access, and if all content is stored within the EPUB container.  The fact that metadata records, for example, in the ONIX schema, appear only to be available through links to external records and not embedded in an EPUB publication suggests that LC would want to receive /access metadata records in conjunction with ingestion of an EPUB publication.  Any interactive functionality supported by embedded Javascript will be harder to preserve for the long term than static re-flowable content.</fdd:preference>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>Open standard, developed and maintained under the auspices of the International Digital Publishing Forum (<a href="http://idpf.org/">IDPF</a>). </fdd:disclosure>
		<fdd:documentation>Specifications for <a href="http://idpf.org/epub/30">EPUB version 3</a> from IDPF.</fdd:documentation>
		<fdd:adoption>
			<p>This format is very new as of February 2012, and signs of future support for EPUB_3 are only just beginning to emerge from developers of tools supporting EPUB_2.</p>
			<p>A <a href="https://github.com/IDPF/epubcheck/wiki">free, open-source validator, EpubCheck</a> is available at https://github.com/IDPF/epubcheck/wiki.  <a href="http://readium.org/">Readium</a>, an IDPF project to accelerate adoption of EPUB_3, has recently released a reader plug-in for the Chrome browser, and can be expected to deliver more tools in coming months.</p>
			<p>Adobe InDesign in CS5.5 already supports some features from EPUB_3, such as support for Japanese scripts and embedded rich media.</p>
		</fdd:adoption>
		<fdd:licensingAndPatents>No licensing concerns for production or use of content compliant with the EPUB specifications or core media types for Version 3.  </fdd:licensingAndPatents>
		<fdd:transparency>
			<p>Text content must be in XHTML/HTML5, which rates highly for transparency.  However, encryption is permitted.  If content files are encrypted, the package file must contain the information necessary for decryption, including key and algorithm used.  If used, embedded fonts may be obfuscated (see <a href="#notes">Notes</a> below) which also reduces transparency. </p>
		</fdd:transparency>
		<fdd:selfDocumentation>
			<p>The mandatory EPUB Package Document can include unqualified Dublin Core (DCMES) metadata and readers must recognize these elements.
		dc:Title, dc:Identifier, and dc:Language are mandatory.  If more than one title is present, titles are required to be given title-type properties, to allow for series/collection titles, subtitles, short titles, edition statements, etc.  Also mandatory is the dcterms:Modified element, which is combined with dc:Identifier to act as an identifier for a particular package.  A meta element may be used to define and populate other metadata elements.  In addition, a link can be made to externally stored metadata records in other schemas.  </p>
			<p>The EPUB Package Document also includes a manifest of component files.  A mandatory component file is an EPUB Navigation Document, which provides structural metadata to relate the various content documents through a table of contents.  The mandatory <i>spine </i>element in the Package Document stipulates a natural reading order.</p>
		</fdd:selfDocumentation>
		<fdd:externalDependencies>No dependencies for unencrypted publications.  However, encrypted, protected publications usually depend for access on specific proprietary reader applications to satisfy the procedures and perform the particular decryption operations required by the DRM scheme selected by the publication&apos;s vendor.</fdd:externalDependencies>
		<fdd:techProtection>
			<p>In addition to support for encryption of content files within the OCF container, an optional element of the OCF container format can specify digital rights management (DRM) terms and procedures.  Commercially published EPUBs can be expected to protect their EPUB files with DRM.  Since EPUB_3 is new, it is hard to predict whether a variety of DRM techniques will emerge.  For EPUB_2, the DRM scheme most widely deployed is Adobe&apos;s ADEPT mechanism.  Apple uses its own DRM for iBooks; Barnes &amp; Noble also has its own DRM scheme.</p>
			<p>Embedded third-party fonts may be &quot;obfuscated&quot; by partial encryption.  See <a href="#notes">Notes</a> below for more information.  The result is that any reader tool has to be capable of performing the decryption in order to be able to use the intended fonts.</p>
		</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors>
		<fdd:textQF>
			<fdd:normalText>Good support.</fdd:normalText>
			<fdd:structure>The logical structure of a document is an essential feature of EPUB.</fdd:structure>
			<fdd:layout>Publishers may choose to control some aspects of layout through style-sheets.  However, flowable text, by definition, will break lines and paginate text differently depending on the reading platform and user choices.</fdd:layout>
			<fdd:mathDiag>EPUB_3 can contain MathML markup.</fdd:mathDiag>
			<fdd:beyondText>Flowable text can adapt to reading devices with a variety of form factors.  Synchronization of audio and text is supported.  A pronunciation lexicon can be embedded to support text to speech renderings.</fdd:beyondText>
		</fdd:textQF>
	</fdd:qualityAndFunctionalityFactors>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
			<fdd:filenameExtension>
				<fdd:sigValues>
					<fdd:sigValue>epub</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>Recommended extension for the EPUB container file. </fdd:note>
			</fdd:filenameExtension>
			<fdd:internetMediaType>
				<fdd:sigValues>
					<fdd:sigValue>application/epub+zip</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>From OCF specification.</fdd:note>
			</fdd:internetMediaType>
			<fdd:magicNumbers>
				<fdd:sigValueNA>See note.</fdd:sigValueNA>
				<fdd:note>From OCF specification:<ul>
						<li>The bytes “PK” will be at the beginning of the file, followed by two additional bytes from the ZIP specification: \003 \004</li>
						<li>The bytes “mimetype” will be at position 30</li>
						<li>actual MIME type (i.e., the ASCII string “application/epub+zip”) will begin at position 38
</li>
					</ul>
				</fdd:note>
			</fdd:magicNumbers>
			<fdd:other>
				<fdd:tag>Indicator for profile, level, version, etc.</fdd:tag>
				<fdd:values>
					<fdd:sigValueNA>See note.</fdd:sigValueNA>
					<fdd:note>The version of EPUB, in this case &quot;3.0,&quot; is identified in the <i>version</i> attribute of the root &lt;package&gt; element in the .opf file, which can be found in the OEBPS directory when the contents of the .epub file is &quot;unzipped&quot;, i.e., extracted from the ZIP archive into its component files.</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:notes>
		<fdd:general>
			<p>Among the changes in EPUB_3 from EPUB_2 is the adoption of the ZIP-based container as the only serialization for an EPUB publication.  &quot;OCF 3.0 [OCF3] only defines a single-file (ZIP-based) container, and no longer defines a &quot;Filesystem Container&quot; abstraction. This change was made in conjunction with new restrictions in Publications 3.0 restricting references to remote resources in EPUB Publications to specific media types and contexts. Taken together, these changes mean that the only instantiation of an EPUB Publication defined at this time is the EPUB ZIP Container, and that EPUB files must in general contain all constituent parts of the Publication, with certain well-defined exceptions.&quot;  Audio and video content <b>may</b> be stored remotely rather than in the EPUB container.  All other content must be in the EPUB container.</p>
			<p>Conforming EPUB reading systems must support: HTML5, XHTML, CSS, SVG, GIF, JPEG, PNG, MP3, and AAC (low complexity) in an MP4 wrapper.  These are <a href="http://www.idpf.org/epub/30/spec/epub30-publications.html#sec-core-media-types">EPUB 3 Core Media Types</a> that all Reading Systems must support and publications may include. Publications may include resources of other media types, but for each such resource there must be an alternative resource of a Core Media Type using methods defined in the EPUB specification.</p>
			<p>Some vendors of proprietary fonts may only permit their use (and embedding) in EPUBs if the fonts are in some way bound to the particular publication and not available on the user&apos;s system for other purposes.  EPUB supports a method of font obfuscation (also known as &quot;mangling&quot;) for this purpose. <a href="http://www.idpf.org/epub/30/spec/epub30-ocf.html#font-obfuscation">Obfuscation of embedded fonts for EPUBs</a> is achieved by modifying the first 1040 bytes using a SHA-1 digest of the publication&apos;s unique identifier, stripped of any whitespace characters.</p>
		</fdd:general>
		<fdd:history>
			<p>The Open eBook Publication Structure or &quot;OEB&quot;, originally produced in 1999, was the precursor to EPUB.</p>
			<p>Version 1.0 of the Publication Structure was created in the winter, spring, and summer of 1999 by the Open eBook Authoring Group. Following the release of OEBPS 1.0, the Open eBook Forum (OeBF) was formally incorporated in January 2000.  OEBPS Version 1.0.1 [<fddLink id="fdd000054">OEBPS_1_0</fddLink>], a maintenance release, was brought out in July 2001. OEBPS Version 1.2 [<fddLink id="fdd000171">OEBPS_1_2</fddLink>], incorporating new support for control by content providers over presentation along with other corrections and improvements, was released as a Recommended Specification in August 2002.</p>
			<p>EPUB 2 was initially standardized in 2007.  EPUB 2.0.1 was approved in 2010. </p>
			<p>EPUB, Version 3, was approved as an IDPF Recommendation in October 2011.  It is substantially different from EPUB, Version 2, both in using only a single form for textual content and in having support for audio, video, and scripted interactivity (through Javascript).  No longer supported are the EPUB_2 formats for text content, one based on the Digital Talking Book [<fddLink id="fdd000275">DTB_2005</fddLink>] format and a second form based on XHTML 1.1 compatible with <fddLink id="fdd000171">OEBPS_1_2</fddLink>. A single new encoding for textual  Content Documents is based on HTML5/XHTML and CSS3, despite the fact that both of these W3C standards are still works in progress.   SVG is supported for graphics and it is possible to have an EPUB_3 document whose &quot;pages&quot; consists only of graphics, for example for a graphic novel.  Several legacy features are deprecated.  Some legacy structures may be included for compatibility of EPUB_3 documents with existing EPUB_2 readers.  EPUB_3 readers are expected to render publications using version 2 and version 3.</p>
		</fdd:history>
	</fdd:notes>
	<fdd:formatSpecifications>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>http://idpf.org/epub/30</link>
					<tag>EPUB Version 3 Specifications</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.idpf.org/epub/30/spec/epub30-ocf.html</link>
					<tag>EPUB Open Container Format (OCF) 3.0</tag>
					<comment>IDPF Recommended Specification 11 October 2011</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.idpf.org/epub/30/spec/epub30-publications.html</link>
					<tag>EPUB Publications 3.0</tag>
					<comment>IDPF Recommended Specification 11 October 2011. 

For EPUB Package Document.  Also lists EPUB Core Media types. </comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.idpf.org/epub/30/spec/epub30-contentdocs.html</link>
					<tag>EPUB Content Documents 3.0
</tag>
					<comment>IDPF Recommended Specification 11 October 2011.  For EPUB Content Documents, including EPUB Navigation Documents and EPUB Stylesheets...</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.idpf.org/epub/30/spec/epub30-mediaoverlays.html</link>
					<tag>EPUB Media Overlays 3.0</tag>
					<comment>IDPF Recommended Specification 11 October 2011.  Using a subset of SMIL, a Media Overlay Document specifies how text and audio content should be synchonized.</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:formatSpecifications>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>http://en.wikipedia.org/wiki/EPUB</link>
					<tag>EPUB article at Wikipedia</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlGroup>
					<fdd:intro>IDPF has published several supplementary documents:</fdd:intro>
					<fdd:urlList>
						<fdd:urlReference>
							<link>http://www.idpf.org/epub/30/spec/epub30-changes.html</link>
							<tag>EPUB 3 Changes from EPUB 2.0.1</tag>
						</fdd:urlReference>
						<fdd:urlReference>
							<link>http://www.idpf.org/epub/vocab/structure/</link>
							<tag>EPUB 3 Structural Semantics Vocabulary</tag>
						</fdd:urlReference>
						<fdd:urlReference>
							<link>http://www.idpf.org/epub/linking/cfi/epub-cfi.html</link>
							<tag>EPUB Canonical Fragment Identifier (epubcfi) Specification</tag>
							<comment>IDPF Recommended Specification 11 October 2011.</comment>
						</fdd:urlReference>
					</fdd:urlList>
				</fdd:urlGroup>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://github.com/IDPF/epubcheck/wiki</link>
					<tag>EpubCheck, validation software. </tag>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
		<fdd:citations>
			<fdd:citation>
				<fdd:bookReference>
					<bookRefDetail rel="au">Garrish, Matt</bookRefDetail>. <bookRefDetail rel="btitle">What Is EPUB 3?</bookRefDetail> An Introduction to the EPUB Specification for Multimedia Publishing. <bookRefDetail rel="date">2011</bookRefDetail>, O&apos;Reilly Media.  ISBN: <bookRefDetail rel="isbn">978-1-4493-1454-5</bookRefDetail>.  As of February 2012, available for free download in PDF and several eBook formats from <a href="http://shop.oreilly.com/product/0636920022442.do">O&apos;Reilly</a>.</fdd:bookReference>
			</fdd:citation>
			<fdd:citation>
				<fdd:bookReference>
					<bookRefDetail rel="au">Garrish, Matt</bookRefDetail> and <bookRefDetail rel="au">Markus Gylling</bookRefDetail>. <bookRefDetail rel="btitle">EPUB 3 Best Practices</bookRefDetail>: Optimize Your Digital Books. <bookRefDetail rel="date">2013</bookRefDetail>, O&apos;Reilly Media.  ISBN: <bookRefDetail rel="isbn">978-1-4493-2914-3</bookRefDetail>.  As of March 2013, available for purchase in PDF and several eBook formats from <a href="http://shop.oreilly.com/product/0636920024897.do">O&apos;Reilly</a>.</fdd:bookReference>
			</fdd:citation>
		</fdd:citations>
	</fdd:usefulReferences>
</fdd:FDD>
